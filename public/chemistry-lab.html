<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ChemLab AI - Advanced Reaction Optimizer</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          animation: {
            'float': 'float 6s ease-in-out infinite',
            'pulse-glow': 'pulse-glow 2s ease-in-out infinite alternate',
            'molecule-spin': 'molecule-spin 20s linear infinite',
            'slide-up': 'slide-up 0.6s ease-out',
            'fade-in': 'fade-in 0.8s ease-out',
            'bubble': 'bubble 4s ease-in-out infinite',
          },
          keyframes: {
            float: {
              '0%, 100%': { transform: 'translateY(0px)' },
              '50%': { transform: 'translateY(-20px)' }
            },
            'pulse-glow': {
              '0%': { boxShadow: '0 0 20px rgba(139, 92, 246, 0.3)' },
              '100%': { boxShadow: '0 0 40px rgba(139, 92, 246, 0.8)' }
            },
            'molecule-spin': {
              '0%': { transform: 'rotate(0deg)' },
              '100%': { transform: 'rotate(360deg)' }
            },
            'slide-up': {
              '0%': { transform: 'translateY(30px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            },
            'fade-in': {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' }
            },
            bubble: {
              '0%, 100%': { transform: 'translateY(0) scale(1)' },
              '50%': { transform: 'translateY(-10px) scale(1.05)' }
            }
          },
          backdropBlur: {
            'xs': '2px',
          }
        }
      }
    }
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
    
    body {
      font-family: 'Inter', sans-serif;
    }
    
    .glass-morphism {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .molecular-bg {
      background-image: 
        radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 118, 117, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
    }
    
    .input-glow:focus {
      box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1), 0 0 20px rgba(139, 92, 246, 0.2);
    }
    
    .molecule-orbit {
      position: absolute;
      border: 2px solid rgba(139, 92, 246, 0.2);
      border-radius: 50%;
      animation: molecule-spin 15s linear infinite;
    }
    
    .molecule-dot {
      position: absolute;
      background: linear-gradient(45deg, #8b5cf6, #06b6d4);
      border-radius: 50%;
      animation: bubble 3s ease-in-out infinite;
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-x-hidden">
  <!-- Animated Background -->
  <div class="fixed inset-0 molecular-bg">
    <div class="molecule-orbit w-96 h-96 top-10 left-10">
      <div class="molecule-dot w-4 h-4 top-0 left-1/2 transform -translate-x-1/2"></div>
      <div class="molecule-dot w-3 h-3 bottom-0 right-1/4"></div>
      <div class="molecule-dot w-2 h-2 left-0 top-1/3"></div>
    </div>
    <div class="molecule-orbit w-64 h-64 bottom-20 right-20" style="animation-duration: 25s; animation-direction: reverse;">
      <div class="molecule-dot w-3 h-3 top-1/4 right-0"></div>
      <div class="molecule-dot w-2 h-2 bottom-1/3 left-1/4"></div>
    </div>
  </div>

  <!-- Main Container -->
  <div class="relative z-10 min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-6xl">
      
      <!-- Header -->
      <div class="text-center mb-12 animate-fade-in">
        <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full mb-6 animate-pulse-glow">
          <svg class="w-10 h-10 text-white animate-float" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2L13.09 8.26L18 7L16.74 12L22 13.09L15.74 14L17 19L12 17.74L7 19L8.26 14L2 13.09L8.26 12L7 7L12 8.26L12 2Z"/>
          </svg>
        </div>
        <h1 class="text-5xl md:text-7xl font-bold bg-gradient-to-r from-white via-purple-200 to-blue-200 bg-clip-text text-transparent mb-4">
          ChemLab AI
        </h1>
        <p class="text-xl text-gray-300 font-light">Advanced Molecular Reaction Optimizer</p>
        <div class="w-24 h-1 bg-gradient-to-r from-purple-500 to-blue-500 mx-auto mt-4 rounded-full"></div>
      </div>

      <!-- Main Card -->
      <div class="glass-morphism rounded-3xl p-8 md:p-12 shadow-2xl animate-slide-up">
        
        <!-- Form -->
        <form id="chemForm" class="space-y-8">
          
          <!-- Primary Reaction Input -->
          <div class="space-y-4">
            <label class="block text-white font-semibold text-lg">Chemical Reaction</label>
            <div class="relative">
              <input 
                type="text" 
                name="reaction" 
                placeholder="e.g., 2H‚ÇÇ + O‚ÇÇ ‚Üí 2H‚ÇÇO" 
                class="w-full p-6 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-gray-400 text-lg input-glow transition-all duration-300 focus:bg-white/15 focus:border-purple-400"
              />
              <div class="absolute right-4 top-1/2 transform -translate-y-1/2">
                <svg class="w-6 h-6 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
              </div>
            </div>
          </div>

          <!-- Grid Layout for Inputs -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            
            <!-- Reactants -->
            <div class="space-y-3">
              <label class="block text-white font-medium">Reactants</label>
              <input 
                type="text" 
                name="reactants" 
                placeholder="e.g., H‚ÇÇ + O‚ÇÇ" 
                required 
                class="w-full p-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 input-glow transition-all duration-300 focus:bg-white/15"
              />
            </div>

            <!-- Products -->
            <div class="space-y-3">
              <label class="block text-white font-medium">Products</label>
              <input 
                type="text" 
                name="products" 
                placeholder="e.g., H‚ÇÇO" 
                required 
                class="w-full p-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 input-glow transition-all duration-300 focus:bg-white/15"
              />
            </div>

            <!-- Temperature -->
            <div class="space-y-3">
              <label class="block text-white font-medium">Temperature</label>
              <div class="relative">
                <input 
                  type="text" 
                  name="temp" 
                  placeholder="e.g., 298K or 25¬∞C" 
                  class="w-full p-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 input-glow transition-all duration-300 focus:bg-white/15"
                />
                <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-purple-400">üå°Ô∏è</span>
              </div>
            </div>

            <!-- Pressure -->
            <div class="space-y-3">
              <label class="block text-white font-medium">Pressure</label>
              <div class="relative">
                <input 
                  type="text" 
                  name="pressure" 
                  placeholder="e.g., 1 atm or 101.3 kPa" 
                  class="w-full p-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 input-glow transition-all duration-300 focus:bg-white/15"
                />
                <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-blue-400">‚ö°</span>
              </div>
            </div>

            <!-- Catalyst -->
            <div class="space-y-3 md:col-span-2">
              <label class="block text-white font-medium">Catalyst (Optional)</label>
              <div class="relative">
                <input 
                  type="text" 
                  name="catalyst" 
                  placeholder="e.g., Pt, Pd/C, H‚ÇÇSO‚ÇÑ" 
                  class="w-full p-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 input-glow transition-all duration-300 focus:bg-white/15"
                />
                <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-green-400">‚öóÔ∏è</span>
              </div>
            </div>
          </div>

          <!-- Notes -->
          <div class="space-y-3">
            <label class="block text-white font-medium">Additional Notes</label>
            <textarea 
              name="notes" 
              rows="4" 
              placeholder="Describe any specific conditions, safety concerns, or optimization goals..."
              class="w-full p-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 input-glow transition-all duration-300 focus:bg-white/15 resize-none"
            ></textarea>
          </div>

          <!-- Submit Button -->
          <div class="flex justify-center pt-4">
            <button 
              type="submit" 
              class="group relative px-12 py-4 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold text-lg rounded-2xl shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"
            >
              <span class="relative z-10 flex items-center">
                <svg class="w-6 h-6 mr-3 group-hover:animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
                <span id="btnText">Optimize Reaction</span>
              </span>
              <div class="absolute inset-0 bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl blur opacity-0 group-hover:opacity-50 transition-opacity duration-300"></div>
            </button>
          </div>
        </form>

        <!-- Results Section -->
        <div id="resultsSection" class="mt-12 hidden">
          <div class="border-t border-white/20 pt-8">
            <h3 class="text-2xl font-bold text-white mb-6 flex items-center">
              <svg class="w-8 h-8 mr-3 text-green-400" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
              </svg>
              AI Optimization Results
            </h3>
            <div id="chemistryOutput" class="bg-white/5 border border-white/10 rounded-2xl p-8 text-gray-100 leading-relaxed"></div>
          </div>
        </div>

        <!-- Loading Animation -->
        <div id="loadingSection" class="mt-12 hidden">
          <div class="border-t border-white/20 pt-8">
            <div class="text-center">
              <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full mb-4 animate-spin">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                </svg>
              </div>
              <p class="text-xl text-white font-medium mb-2">Analyzing Molecular Interactions</p>
              <p class="text-gray-400">Our AI is optimizing your chemical reaction...</p>
              <div class="flex justify-center mt-6">
                <div class="flex space-x-2">
                  <div class="w-3 h-3 bg-purple-500 rounded-full animate-bounce"></div>
                  <div class="w-3 h-3 bg-blue-500 rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                  <div class="w-3 h-3 bg-green-500 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div class="text-center mt-8 text-gray-400">
        <p class="text-sm">Powered by advanced AI algorithms and quantum chemistry principles</p>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("chemForm");
      const output = document.getElementById("chemistryOutput");
      const resultsSection = document.getElementById("resultsSection");
      const loadingSection = document.getElementById("loadingSection");
      const btnText = document.getElementById("btnText");

      // Auto-fill from query params
      const urlParams = new URLSearchParams(window.location.search);
      for (const [key, value] of urlParams.entries()) {
        const input = form.querySelector(`[name="${key}"]`);
        if (input) input.value = decodeURIComponent(value);
      }

      // Add input animations
      const inputs = form.querySelectorAll('input, textarea');
      inputs.forEach(input => {
        input.addEventListener('focus', () => {
          input.parentElement.style.transform = 'scale(1.02)';
        });
        input.addEventListener('blur', () => {
          input.parentElement.style.transform = 'scale(1)';
        });
      });

      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        
        // Hide results and show loading
        resultsSection.classList.add('hidden');
        loadingSection.classList.remove('hidden');

        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());

        const btn = form.querySelector("button");
        btn.disabled = true;
        btnText.textContent = "Analyzing...";

        try {
          // Simulate API call with timeout for demo
          await new Promise(resolve => setTimeout(resolve, 3000));
          
          // Mock response for demo purposes
          const mockResponse = {
            recommendation: `
              <div class="space-y-6">
                <div class="bg-gradient-to-r from-green-500/20 to-blue-500/20 border border-green-500/30 rounded-xl p-6">
                  <h4 class="text-xl font-bold text-green-400 mb-3">‚úÖ Reaction Analysis Complete</h4>
                  <p class="text-gray-200">Your reaction has been successfully analyzed and optimized.</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="bg-white/5 border border-white/10 rounded-lg p-4">
                    <h5 class="font-semibold text-purple-400 mb-2">Optimal Temperature</h5>
                    <p class="text-gray-300">85¬∞C ¬±5¬∞C for maximum yield</p>
                  </div>
                  <div class="bg-white/5 border border-white/10 rounded-lg p-4">
                    <h5 class="font-semibold text-blue-400 mb-2">Pressure Recommendation</h5>
                    <p class="text-gray-300">2.5 atm for optimal reaction rate</p>
                  </div>
                </div>
                
                <div class="bg-white/5 border border-white/10 rounded-lg p-6">
                  <h5 class="font-semibold text-yellow-400 mb-3">üî¨ Key Insights</h5>
                  <ul class="space-y-2 text-gray-300">
                    <li>‚Ä¢ Expected yield: 94.2% under optimal conditions</li>
                    <li>‚Ä¢ Reaction time: 2.5 hours at recommended temperature</li>
                    <li>‚Ä¢ Side reactions minimal at suggested parameters</li>
                    <li>‚Ä¢ Energy efficiency: High (ŒîG = -45.3 kJ/mol)</li>
                  </ul>
                </div>
              </div>
            `
          };

          /* 
          Uncomment for actual API integration:
          const res = await fetch("http://localhost:4000/optimize-production", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data),
          });
          const result = await res.json();
          */

          // Hide loading and show results
          loadingSection.classList.add('hidden');
          resultsSection.classList.remove('hidden');
          
          output.innerHTML = mockResponse.recommendation || "<p class='text-yellow-400'>‚ö†Ô∏è No optimization data available for this reaction.</p>";

        } catch (err) {
          loadingSection.classList.add('hidden');
          resultsSection.classList.remove('hidden');
          output.innerHTML = `<div class="bg-red-500/20 border border-red-500/30 rounded-xl p-6"><p class='text-red-400'>‚ùå Error: ${err.message}</p></div>`;
        } finally {
          btn.disabled = false;
          btnText.textContent = "Optimize Reaction";
        }
      });

      // Add some interactive particle effects
      document.addEventListener('mousemove', (e) => {
        const particles = document.querySelectorAll('.molecule-dot');
        particles.forEach((particle, index) => {
          const speed = (index + 1) * 0.0001;
          const x = e.clientX * speed;
          const y = e.clientY * speed;
          particle.style.transform += ` translate(${x}px, ${y}px)`;
        });
      });
    });
  </script>
</body>
</html>