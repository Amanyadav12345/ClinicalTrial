<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Compliance Document Upload</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    
    body {
      font-family: 'Inter', sans-serif;
    }
    
    .glassmorphism {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .floating-animation {
      animation: floating 6s ease-in-out infinite;
    }
    
    @keyframes floating {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    .pulse-glow {
      animation: pulse-glow 2s infinite;
    }
    
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(102, 126, 234, 0.3); }
      50% { box-shadow: 0 0 30px rgba(102, 126, 234, 0.6); }
    }
    
    .slide-up {
      animation: slideUp 0.5s ease-out;
    }
    
    @keyframes slideUp {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    .gradient-text {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .hover-lift {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .hover-lift:hover {
      transform: translateY(-8px);
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }
    
    .progress-bar {
      background: linear-gradient(90deg, #10b981, #34d399, #6ee7b7);
      background-size: 200% 100%;
      animation: gradient-shift 3s ease infinite;
    }
    
    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    .card-shadow {
      box-shadow: 0 20px 50px -12px rgba(0, 0, 0, 0.15);
    }
    
    .neon-border {
      position: relative;
      border: 2px solid transparent;
      background: linear-gradient(white, white) padding-box, 
                  linear-gradient(135deg, #667eea, #764ba2) border-box;
    }
  </style>
</head>
<body class="gradient-bg min-h-screen p-4">
  <!-- Floating background elements -->
  <div class="fixed inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-white/10 rounded-full blur-3xl floating-animation"></div>
    <div class="absolute top-3/4 right-1/4 w-96 h-96 bg-purple-300/10 rounded-full blur-3xl floating-animation" style="animation-delay: -3s;"></div>
    <div class="absolute top-1/2 left-3/4 w-48 h-48 bg-blue-300/10 rounded-full blur-3xl floating-animation" style="animation-delay: -1.5s;"></div>
  </div>

  <div class="max-w-5xl mx-auto py-8 relative z-10">
    <!-- Header -->
    <div class="text-center mb-12 slide-up">
      <div class="inline-flex items-center justify-center w-20 h-20 glassmorphism rounded-3xl mb-6 pulse-glow">
        <svg class="w-10 h-10 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
        </svg>
      </div>
      <h1 class="text-5xl font-bold text-white mb-4 text-white">Compliance Document Analyzer</h1>
      <p class="text-white/80 text-lg max-w-3xl mx-auto leading-relaxed">Upload your SOPs, validation protocols, and audit logs for AI-powered regulatory compliance analysis with real-time insights</p>
    </div>

    <!-- Upload Section -->
    <div class="glassmorphism rounded-3xl card-shadow p-10 mb-10 hover-lift">
      <form id="complianceForm" class="space-y-8">
        <!-- File Upload Area -->
        <div class="relative">
          <div id="dropZone" class="neon-border rounded-2xl p-12 text-center hover:bg-gradient-to-br hover:from-indigo-50 hover:to-purple-50 transition-all duration-300 cursor-pointer group">
            <div class="mb-6 group-hover:scale-110 transition-transform duration-300">
              <svg class="mx-auto h-16 w-16 text-indigo-400 group-hover:text-indigo-600 transition-colors" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <p class="text-2xl font-semibold text-gray-700 mb-3 group-hover:text-indigo-700 transition-colors">Drop files here or click to browse</p>
            <p class="text-gray-500 text-lg">Supports PDF, DOC, DOCX files â€¢ Max 50MB per file</p>
            <input type="file" id="fileInput" name="docs" multiple accept=".pdf,.doc,.docx" required class="hidden" />
          </div>
          
          <!-- Selected Files Display -->
          <div id="fileList" class="mt-6 space-y-3 hidden"></div>
        </div>

        <!-- Submit Button -->
        <button type="submit" id="submitBtn" class="w-full bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-800 text-white font-semibold py-6 px-8 rounded-2xl hover:from-indigo-700 hover:via-purple-700 hover:to-indigo-900 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-2xl hover:shadow-indigo-500/25">
          <span id="btnText" class="text-lg">ðŸš€ Analyze Documents</span>
          <svg id="loadingIcon" class="hidden animate-spin -mr-1 ml-3 h-6 w-6 text-white inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
        </button>
      </form>
    </div>

    <!-- Results Section -->
    <div id="resultsSection" class="hidden space-y-8">
      <!-- AI Feedback -->
      <div id="feedbackCard" class="glassmorphism rounded-3xl card-shadow p-8 hover-lift slide-up">
        <div class="flex items-center mb-6">
          <div class="w-14 h-14 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-2xl flex items-center justify-center mr-4 shadow-lg">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
            </svg>
          </div>
          <div>
            <h2 class="text-2xl font-bold text-gray-800">AI Analysis & Recommendations</h2>
            <p class="text-gray-600">Powered by advanced compliance intelligence</p>
          </div>
        </div>
        <div id="feedbackContent" class="text-gray-700 leading-relaxed text-lg bg-gradient-to-r from-gray-50 to-indigo-50 p-6 rounded-2xl border-l-4 border-indigo-500"></div>
      </div>

      <!-- Compliance Scorecard -->
      <div id="scorecardSection" class="glassmorphism rounded-3xl card-shadow p-8 hover-lift slide-up">
        <div class="flex items-center justify-between mb-8">
          <div class="flex items-center">
            <div class="w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mr-4 shadow-lg">
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
              </svg>
            </div>
            <div>
              <h2 class="text-2xl font-bold text-gray-800">Compliance Scorecard</h2>
              <p class="text-gray-600">Detailed regulatory assessment</p>
            </div>
          </div>
          <div id="overallScore" class="text-right bg-gradient-to-br from-indigo-50 to-purple-50 p-6 rounded-2xl">
            <div class="text-4xl font-bold gradient-text" id="scoreValue">--/--</div>
            <div class="text-sm font-medium mt-2" id="scoreStatus">Analyzing...</div>
          </div>
        </div>
        
        <div id="scorecardContent" class="space-y-6"></div>
      </div>
    </div>

    <!-- Error Message -->
    <div id="errorMessage" class="hidden glassmorphism border-2 border-red-300 rounded-2xl p-6 mb-8 slide-up">
      <div class="flex items-center">
        <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4">
          <svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
        </div>
        <div>
          <p class="text-red-700 font-semibold text-lg">Analysis Failed</p>
          <p class="text-red-600">Please try again or check your file format. Contact support if the issue persists.</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // File handling
    const dropZone = document.getElementById('dropZone');
    const fileInput = document.getElementById('fileInput');
    const fileList = document.getElementById('fileList');
    const form = document.getElementById('complianceForm');
    const submitBtn = document.getElementById('submitBtn');
    const btnText = document.getElementById('btnText');
    const loadingIcon = document.getElementById('loadingIcon');

    // Drop zone events
    dropZone.addEventListener('click', () => fileInput.click());
    dropZone.addEventListener('dragover', (e) => {
      e.preventDefault();
      dropZone.classList.add('scale-105', 'shadow-2xl');
    });
    dropZone.addEventListener('dragleave', () => {
      dropZone.classList.remove('scale-105', 'shadow-2xl');
    });
    dropZone.addEventListener('drop', (e) => {
      e.preventDefault();
      dropZone.classList.remove('scale-105', 'shadow-2xl');
      fileInput.files = e.dataTransfer.files;
      displayFiles();
    });

    fileInput.addEventListener('change', displayFiles);

    function displayFiles() {
      const files = Array.from(fileInput.files);
      if (files.length === 0) {
        fileList.classList.add('hidden');
        return;
      }

      fileList.classList.remove('hidden');
      fileList.innerHTML = files.map((file, index) => `
        <div class="flex items-center justify-between glassmorphism rounded-xl p-4 hover:bg-white/90 transition-all duration-300 transform hover:scale-102" style="animation-delay: ${index * 0.1}s;">
          <div class="flex items-center">
            <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center mr-3">
              <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
              </svg>
            </div>
            <div>
              <span class="font-semibold text-gray-700">${file.name}</span>
              <div class="text-xs text-gray-500 mt-1">Document â€¢ ${(file.size / 1024 / 1024).toFixed(1)} MB</div>
            </div>
          </div>
          <div class="flex items-center space-x-2">
            <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
            <span class="text-xs text-green-600 font-medium">Ready</span>
          </div>
        </div>
      `).join('');
    }

    // Form submission
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      // Show loading state
      submitBtn.disabled = true;
      btnText.innerHTML = 'ðŸ”„ Analyzing Documents...';
      loadingIcon.classList.remove('hidden');
      
      // Hide previous results
      document.getElementById('resultsSection').classList.add('hidden');
      document.getElementById('errorMessage').classList.add('hidden');

      try {
        // Simulate API call delay
        await new Promise(resolve => setTimeout(resolve, 2000));
        
        const mockData = {
          feedback: "ðŸ“Š Analysis complete! Your documentation shows strong foundational compliance elements. Key strengths include comprehensive validation protocols and detailed audit trails. Areas for improvement focus on access control policies and data integrity measures. Consider implementing multi-factor authentication and enhanced encryption standards to achieve full regulatory compliance."
        };
        
        showResults(mockData);
      } catch (error) {
        showError();
      } finally {
        // Reset button state
        submitBtn.disabled = false;
        btnText.innerHTML = 'ðŸš€ Analyze Documents';
        loadingIcon.classList.add('hidden');
      }
    });

    function showResults(data) {
      // Show AI feedback
      document.getElementById('feedbackContent').innerHTML = data.feedback || "Analysis complete. Review the scorecard below for detailed compliance assessment.";
      
      // Generate enhanced scorecard
      const scoreData = [
        {
          category: "Validation Protocol",
          score: 32,
          max: 40,
          remark: "Strong IQ/OQ structure present. Consider adding PQ enhancement protocols for comprehensive coverage.",
          color: "emerald",
          icon: "âœ…"
        },
        {
          category: "Audit Trail",
          score: 24,
          max: 30,
          remark: "Good timestamp implementation. Recommend append-only logging with digital signatures.",
          color: "yellow",
          icon: "âš ï¸"
        },
        {
          category: "Access Control Policy",
          score: 15,
          max: 30,
          remark: "Basic controls detected. Implement multi-factor authentication and role-based permissions.",
          color: "red",
          icon: "âŒ"
        },
        {
          category: "Data Integrity",
          score: 28,
          max: 35,
          remark: "Excellent checksum validation. Minor gaps in backup verification procedures.",
          color: "emerald",
          icon: "âœ…"
        }
      ];

      const totalScore = scoreData.reduce((sum, item) => sum + item.score, 0);
      const totalMax = scoreData.reduce((sum, item) => sum + item.max, 0);
      const percentage = Math.round((totalScore / totalMax) * 100);

      // Update overall score
      document.getElementById('scoreValue').textContent = `${totalScore}/${totalMax}`;
      const statusEl = document.getElementById('scoreStatus');
      if (percentage >= 80) {
        statusEl.innerHTML = 'ðŸŽ‰ Excellent Compliance';
        statusEl.className = 'text-sm font-bold text-emerald-600';
      } else if (percentage >= 60) {
        statusEl.innerHTML = 'âš¡ Good Progress';
        statusEl.className = 'text-sm font-bold text-yellow-600';
      } else {
        statusEl.innerHTML = 'ðŸ”§ Needs Enhancement';
        statusEl.className = 'text-sm font-bold text-red-600';
      }

      // Create enhanced scorecard items
      const scorecardContent = document.getElementById('scorecardContent');
      scorecardContent.innerHTML = scoreData.map((item, index) => {
        const itemPercentage = Math.round((item.score / item.max) * 100);
        const colorClasses = {
          emerald: 'from-emerald-400 to-emerald-600',
          yellow: 'from-yellow-400 to-yellow-600',
          red: 'from-red-400 to-red-600'
        };
        
        return `
          <div class="glassmorphism rounded-2xl p-6 hover:bg-white/90 transition-all duration-300 hover:scale-102" style="animation-delay: ${index * 0.1}s;">
            <div class="flex justify-between items-center mb-4">
              <div class="flex items-center">
                <span class="text-2xl mr-3">${item.icon}</span>
                <div>
                  <h3 class="text-xl font-bold text-gray-800">${item.category}</h3>
                  <span class="text-gray-600 text-sm">Score: ${item.score}/${item.max} points</span>
                </div>
              </div>
              <div class="text-right">
                <div class="text-2xl font-bold gradient-text">${itemPercentage}%</div>
              </div>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3 mb-4 overflow-hidden">
              <div class="h-3 rounded-full bg-gradient-to-r ${colorClasses[item.color]} progress-bar transition-all duration-1000 ease-out" style="width: ${itemPercentage}%"></div>
            </div>
            <div class="bg-gradient-to-r from-gray-50 to-indigo-50 p-4 rounded-xl border-l-4 border-indigo-400">
              <p class="text-gray-700 leading-relaxed">${item.remark}</p>
            </div>
          </div>
        `;
      }).join('');

      document.getElementById('resultsSection').classList.remove('hidden');
    }

    function showError() {
      document.getElementById('errorMessage').classList.remove('hidden');
    }

    // Add smooth scrolling to results
    function scrollToResults() {
      document.getElementById('resultsSection').scrollIntoView({ 
        behavior: 'smooth',
        block: 'start'
      });
    }
  </script>
</body>
</html>